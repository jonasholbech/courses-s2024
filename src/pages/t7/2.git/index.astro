---
import SlideLayout from "../../../layouts/SlideLayout.astro";
import AgendaSection from "../../../components/AgendaSection.astro";
import Goal from "../../../components/Goal.astro";
import Tree from "./components/Tree.astro";
import SlideControls from "../../../components/SlideControls.astro";
---

<SlideLayout title="Git">
  <section>
    <h1><code>git</code></h1>
  </section>
  <section>
    <h2>Jonas Holbech</h2>
    <p class="fragment">jofh@kea.dk</p>
    <p class="fragment">Cand. IT</p>
    <p class="fragment">Web, web, web, web, siden 2005</p>
    <p class="fragment">
      Selvstændig, reklamebureau, product owner, undervisning
    </p>
    <p class="fragment">Tre børn (crazy svært at møde klokken 8:30)</p>
    <p class="fragment">Frivillig i Coding Pirates</p>
    <p class="fragment">Anstrengt forhold til danske slides</p>
  </section>
  <section>
    <SlideControls />
  </section>
  <Goal>
    <ol>
      <li class="fragment">Understand the need for Git</li>
      <li class="fragment">Memorize Git specific keywords and flows</li>
      <li class="fragment">Connect a project to gihub</li>
      <li class="fragment">
        Use the commands <code>add, commit, push</code> fluently
      </li>
      <li class="fragment">
        <code>branch</code> out and <code>merge</code> back in
      </li>
      <li class="fragment">
        Know that <code>checkout</code>, <code>pull</code>, <code>revert</code> &amp;
        <code>reset</code> exists
      </li>
      <li class="fragment">
        Know what <code>fork</code>ing and <code>clone</code>ing does, and what
        the difference is
      </li>
    </ol>
  </Goal>
  <section>
    <h3>Today</h3>
    <ol class="small" style="column-count: 2; column-gap: 6rem">
      <li>git, what is it</li>
      <li>Prerequisites</li>
      <li>Let's memorize some words</li>
      <li>Re-cap</li>
      <li>Extras</li>
      <li>Assignments / Exercises</li>
    </ol>
  </section>
  <AgendaSection header="git, what is it">
    <section>
      <p>Git is as "version control system"</p>
      <p>That means we can store our "project" in different versions</p>
      <p>And we can go back to previous versions</p>
    </section>
    <section>
      <img data-src="https://imgs.xkcd.com/comics/git.png" alt="" />
      <p class="fragment small">
        It's a joke, but seriously, a lot of people work this way
      </p>
      <p class="fragment small">
        And as long as we do not loose work, I'm happy
      </p>
    </section>
    <section>
      <!-- //TODO: fjern videoer fra public der ikke bliver brugt -->
      <img src="/assets/t7/2.git/git-meme1.jpg" alt="" />
      <p class="fragment">No, but you do cry when you loose all your work</p>
      <p class="fragment">You just need to memorize a few work-processes</p>
      <p class="fragment">
        just like <kbd>cmd+s, cmd+tab, cmd+r</kbd> or
        <kbd>ctrl+s, alt+tab, ctrl+r</kbd>
      </p>
    </section>
    <section>
      <h3>But first</h3>
      <p>Is git really worth all of this trouble?</p>
      <ol>
        <li class="fragment">YES, and it's what the cool kids use</li>
        <li class="fragment">
          YES, it allows us to try something out without risking anything
        </li>
        <li class="fragment">
          YES, and it's not that hard, it's just confusing
        </li>
        <li class="fragment">YES, In teams, it's a life saver</li>
      </ol>
    </section>
  </AgendaSection>

  <AgendaSection header="Install time">
    <section>
      <h2>Prerequisites</h2>
      <p>Instructions on fronter (Install Day)</p>
      <div class="flex-grid">
        <div class="col-6">
          <ol>
            <li>VSCode</li>
            <li>Git</li>
            <li>GitHub account</li>
            <li>Live Server</li>
            <li>GitLens</li>
            <li>axe Accessibility Linter</li>
            <li>Error Lens</li>
            <li>Prettier</li>
          </ol>
        </div>
        <div class="col-6">
          <iframe
            width="560"
            height="315"
            src="https://www.youtube.com/embed/5dLehBJHwwM"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>
      </div>
    </section>
  </AgendaSection>

  <AgendaSection header="Exercise #1" h3="The Memo Game">
    <section class="small">
      <div class="flex-grid">
        <div class="col-8">
          <ul>
            <li><code>add</code></li>
            <li><code>commit</code></li>
            <li><code>git</code></li>
            <li><code>staging area</code></li>
            <li><code>push</code></li>
            <li><code>init</code></li>
            <li><code>repository</code></li>
            <li><code>pull</code></li>
            <li><code>remote</code></li>
            <li><code>local</code></li>
            <li><code>.gitignore</code></li>
            <li><code>branch</code></li>
            <li><code>merge</code></li>
            <li><code>switch</code></li>
          </ul>
        </div>
        <div class="col-4">
          <p>In your study groups; Define the terms in your own words</p>
          <p>What do they do?</p>
          <p>When do you use them</p>
        </div>
      </div>

      <p><small>https://jonasholbech.github.io/gitfographic3/</small></p>
    </section>
  </AgendaSection>

  <AgendaSection header="the stuff we do once">&nbsp;</AgendaSection>

  <AgendaSection header="Setting up a project">
    <section>
      <p>You can add git to any old project, but for now, let's not</p>
    </section>
    <section>
      <ol>
        <li>
          Create a new project in VS Code
          <ul>
            <li>Add a few files / folders</li>
          </ul>
        </li>
      </ol>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/pD7vpuBKiXs"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <ol start="2">
        <li>
          Initialize it as a git project
          <ul>
            <li>Open the "Git Tab"</li>
            <li>Click "Initialize Repository"</li>
          </ul>
        </li>
      </ol>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/k8zOFJtMui4"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <ol start="3">
        <li>In VS Code, <code>add</code> (+) all the files you need</li>
        <li>Write a meaningfull message and click <code>commit</code> (V)</li>
      </ol>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/u-Fy-1lMK40"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <p>Now you have version control locally.</p>
      <p>Unless your harddisk dies, you've got a snapshot of your code</p>
    </section>
  </AgendaSection>

  <AgendaSection
    header="Hooking it up to GitHub"
    p='<span style="display:block;" class="fragment">Backing up</span><span style="display:block;" class="fragment">Preparing for collaboration</span>'
  >
    <section>
      <p>We need to create a remote repository to store our code</p>
      <p>
        There are several ways we can do this, but this is what I found to be
        the easiest
      </p>
    </section>
    <section>
      <ol start="5">
        <li>
          In VS Code, press <kbd>Cmd/Ctrl + Shift + P</kbd> to open the Command Palette
        </li>
        <li>
          Start typing "Publish to GitHub" and select the option when it appears<br
          />
          You probably have to login.
        </li>
        <li>
          Choose either a <del>private</del> or <strong>public</strong> repository
        </li>
        <li>You can click "Open in GitHub" to see you new repository</li>
      </ol>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/3kCYDkXHl9o"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <ul start="9">
        <li>This will also issue your first <code>push</code></li>
        <li>Now your code is backed up on GitHub</li>
        <li>Your project is set up, congrats</li>
      </ul>
      <p>That was the setup, with practice, this can be done in 5 minutes</p>
    </section>
  </AgendaSection>

  <!--  <AgendaSection header="Exercise #4" h3="A short interactive tour">
    <section>
      <h2>gitfographic&lt;3</h2>
      <p>
        <a href="https://jonasholbech.github.io/gitfographic3/"
          >https://jonasholbech.github.io/gitfographic3/</a
        >
      </p>
      <p>Complete the rest</p>

      <p>30 minutes, go through it now</p>
      <p>Try to define the following words</p>
    </section>
    <section>
      <div class="flex-grid">
        <div class="col-8">
          <ul>
            <li><code>branch</code></li>
            <li><code>merge</code></li>
            <li><code>reset</code></li>
            <li><code>revert</code></li>
            <li><code>checkout</code></li>
            <li><code>feature</code> (not a git word)</li>
            <li><code>commit message</code></li>
            <li><code>GitHub</code></li>
            <li><code>clone</code></li>
          </ul>
        </div>
        <div class="col-4">
          <iframe
            class="gs4"
            src="https://jonasholbech.github.io/stopwatch-react/?transparent=true&time=1800"
            width="400"
            height="400"></iframe>
        </div>
      </div>
    </section>
  </AgendaSection> -->

  <AgendaSection header="the stuff we do sometimes">&nbsp;</AgendaSection>

  <AgendaSection header="Forking and cloning">
    <section>
      <h3>Cloning</h3>
      <p>Cloning downloads a copy of a GitHub repository</p>
      <p>If it's <strong>your</strong> repo, you can now push</p>
      <p>If it's someone else's, you can <strong>not</strong> push</p>
      <h3>Forking</h3>
      <p>Forking (technically not a git thing) means:</p>
      <p>"Copy this cool repository to my profile so that it is now mine"</p>
      <hr />
      <p>What's the difference then?</p>
    </section>
  </AgendaSection>

  <AgendaSection header="Forking">
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/Hn9FyneK-kw"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
  </AgendaSection>

  <AgendaSection header="Cloning">
    <section>
      <p>
        To <code>clone</code> is to take all code from a GitHub repository and downloading
        it
      </p>
      <p>It's THE best way to share code</p>
      <p>And it's not hard</p>
    </section>
    <section>
      <ol>
        <li>Find the repository you would like to clone</li>
        <li>Grab the <code>.git</code> url</li>
        <li>
          In VSC type <kbd>Cmd/Ctrl + Shift + P</kbd> and find <br /><code
            >Git: clone</code
          >
        </li>
        <li>Paste in the URL</li>
        <li>Find a folder you would like to store the code in</li>
        <li>That's it</li>
        <li>=&gt;</li>
      </ol>
    </section>
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/12VPWLpU2sQ"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <p>Exercise in this coming later today</p>
    </section>
    <section>
      <h3>To sum it up</h3>
      <div class="fragment">
        <h4>Initialize</h4>
        <p>For when you create a new project</p>
      </div>
      <div class="fragment">
        <h4>Cloning</h4>
        <p>For when you're in a team, or just want to take a look</p>
      </div>
      <div class="fragment">
        <h4>Forking (and then cloning)</h4>
        <p>For when you've found something cool and want to work on it</p>
      </div>
    </section>
  </AgendaSection>

  <AgendaSection header="The stuff we do" h2="all the time" />

  <AgendaSection header="Managing a single timeline">
    <section>
      <ol>
        <li>add</li>
        <li>commit</li>
        <li>push</li>
      </ol>
    </section>
    <section>
      <h3><code>add</code></h3>
      <p>Do you get it?</p>
    </section>
    <section>
      <h3><code>commit</code></h3>
      <p>Do you get it?</p>
    </section>
    <section>
      <h3><code>push</code></h3>
      <p>Do you get it?</p>
    </section>
    <section>
      <h3>DEMO?</h3>
      <ol>
        <li>add</li>
        <li>commit</li>
        <li>push</li>
      </ol>
    </section>
    <section>
      <h3><code>push</code></h3>
      <p>Upload our commits</p>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/fa5yDJculfM"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
  </AgendaSection>

  <AgendaSection header="General Thoughts, part #1">
    <section>
      <h3>"Save games"</h3>
      <p>Commits are points in history we can go back to</p>
      <p>That's called checking out, resetting or reverting</p>
      <div class="fragment">
        <p>In general, if something is working, do a commit</p>
        <p>Try to do one thing per commit</p>
        <!-- user stories?-->
      </div>
    </section>

    <!-- <section>
      <p>If we haven't already, let's do it</p>
      <p>Let's go to the whiteboard</p>

      <p class="fragment">
        Any code produced in this example is not really important, focus on git
      </p>
    </section> -->
  </AgendaSection>

  <!--branches -->
  <AgendaSection>
    <Tree slot="header-component" />
    <section>
      <ol>
        <li>Creating a branch</li>
        <li>Switching</li>
        <li>Pushing/publishing</li>
        <li>Merging</li>
      </ol>
    </section>
    <section>
      <h2>Creating a branch</h2>
    </section>
    <section>
      <p>
        In order to create a branch, make sure you're on the branch you want to
        start from!
      </p>
      <p>You can start from any, but for now, stick to <code>main</code></p>
      <p class="fragment">
        You can NOT (without issues) create a new branch if you forgot to <code
          >add</code
        >/<code>commit</code>
      </p>
    </section>
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/CUN5hSWfPlQ"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <h2>Switching</h2>
      <p>Looking at another branch</p>
    </section>
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/7mVa24VLjaY"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <h2>pushing</h2>
    </section>
    <section>
      <p>Our new branches are only on our local machines</p>
      <p>We should probably, if everything is allright, put them on GitHub</p>
      <p>
        So, we should issue a <code>push</code> and let VS Code help with the rest
      </p>
    </section>
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/fnznq-sn4Io"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
    <section>
      <h2>Merging</h2>
    </section>
    <section>
      <p>
        Make sure you've <code>add</code>'ed and <code>commit</code>'ed
        everything before you do this
      </p>
    </section>
    <section>
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/-ApZNpJsgP0"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </section>
  </AgendaSection>

  <!-- <AgendaSection header="Exercise #2">
    <section>
      <p>
        Forking, Cloning, Switching, Merging, Adding, Commiting, Pushing,
        Celebrating
      </p>
      <p>
        <a href="https://github.com/jonasholbech/mmd2-merge-exercise"
          >https://github.com/jonasholbech/mmd2-merge-exercise</a
        >
      </p>
    </section>
  </AgendaSection> -->

  <AgendaSection header="General thoughts, part #2">
    <section>
      <p>It's just</p>
      <p class="fragment">practice</p>
      <p class="fragment">practice</p>
      <p class="fragment">practice</p>
    </section>
    <section>
      <p>NEVER WORK ON <code>MAIN</code></p>
    </section>
    <section>
      <p>new feature === new branch</p>
      <p>Commit fairly often</p>
      <p>Branches are cheap, just make one</p>
      <p>You can always just ignore it (no merging)</p>
    </section>
  </AgendaSection>

  <AgendaSection header="What didn't make the cut">
    <section>
      <ul>
        <li>checkout</li>
        <li>reset</li>
        <li>revert</li>
      </ul>
    </section>

    <section>
      <h3><code>checkout</code></h3>
      <p>Looking at a point in time</p>
      <p>You can look, but you can't (shouldn't) touch</p>
      <video
        height="200"
        data-src="/assets/t7/2.git/5-switch-to-commit.webm"
        controls></video>
    </section>
    <section>
      <h3>Going back to our timeline</h3>
      <p>Once we've looked, we can go back to our own timeline (main)</p>
      <video height="200" data-src="/assets/t7/2.git/6-go-back.webm" controls
      ></video>
    </section>
    <section>
      <h3><code>reset</code></h3>
      <p>Reset is destructive, so that means move back permanently (sort of)</p>
      <video height="200" data-src="/assets/t7/2.git/7-reset.webm" controls
      ></video>

      <p>
        <code>reset</code> is a "last option" other (and better) ways exists
      </p>
    </section>
    <section>
      <h3><code>push --force</code></h3>
      <p>Let's imagine we've pushed everything</p>
      <p>Then we reset locally</p>
      <p>Now the local and remote repos are out of sync</p>
      <p>If we try to push again we get an error</p>
      <p>If we are REALLY sure we want to go back</p>
      <p>We can do a forced push</p>
      <p>But that's not for now</p>
    </section>
    <section>
      <h3><code>revert</code></h3>
      <p>Undo a specific commit</p>
      <video height="200" data-src="/assets/t7/2.git/8-revert.webm" controls
      ></video>
      <p>Demo?</p>
      <p><code>revert</code> is often better than <code>reset</code></p>
    </section>
  </AgendaSection>
  <AgendaSection header="Your tasks">
    <section>
      <p>Fronter:</p>
      <ol>
        <li>"Leg med Git" in study groups</li>
        <li>"Merge exercise" individually</li>
        <li>More time? Work on the static site</li>
      </ol>
    </section>
  </AgendaSection>
  <section>
    <h2>Let's review the goals</h2>
  </section>
</SlideLayout>
